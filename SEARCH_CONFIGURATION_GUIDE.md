# 検索対象の設定ガイド

## Notionデータベースでの検索対象設定

### 1. チェックボックスプロパティの追加

1. Notionで「カフェキネシコンテンツ」データベースを開く
2. プロパティを追加：
   - 名前: `検索対象` または `Searchable`
   - タイプ: チェックボックス
   - デフォルト: オフ（未チェック）

### 2. 検索対象にしたいページの設定

1. 検索対象にしたいページの行で「検索対象」にチェックを入れる
2. 検索対象から外したいページはチェックを外す

### 3. 推奨設定

#### 検索対象にすべきページ
- ✅ 公開コンテンツ
- ✅ 講座情報
- ✅ インストラクター情報
- ✅ 地域情報（都道府県ページ）
- ✅ ブログ記事

#### 検索対象から除外すべきページ
- ❌ 下書きページ
- ❌ テストページ
- ❌ 内部管理用ページ
- ❌ プライベートな情報

### 4. 検索インデックスの更新

チェックボックスを変更した後：

1. https://notion-effect-blog2.vercel.app/api/search/reindex にアクセス
2. POSTリクエストを送信（開発者ツールのコンソールで）：
   ```javascript
   fetch('/api/search/reindex', { method: 'POST' })
   ```

### 5. 動作確認

1. https://notion-effect-blog2.vercel.app/test-search-simple で検索テスト
2. チェックを入れたページが検索結果に表示されることを確認
3. チェックを外したページが検索結果に表示されないことを確認

## 技術的な詳細

- プロパティ名は「検索対象」「Searchable」「Public」のいずれかに対応
- チェックボックスの値は Notion API で `[["Yes"]]` または `[["No"]]` として取得
- デフォルトは検索対象外（安全側に倒す設計）